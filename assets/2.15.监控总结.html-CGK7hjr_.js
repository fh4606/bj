import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,o as d,d as p}from"./app-cGHsJGw-.js";const r="/vuepress/assets/2023-10-28_202524_3109940.189578174096243-DXpe8gNY.png",s={},i=p('<h2 id="_1、监控流程总结" tabindex="-1"><a class="header-anchor" href="#_1、监控流程总结"><span>1、监控流程总结</span></a></h2><p>1、需要在被监控的服务器上安装xx_exporter来收集数据</p><p>2、添加Prometheus配置，去收集（xx_exporter）提供的监控样本数据</p><p>3、配置触发器（告警规则）</p><p>4、Grafana添加dashboard，图形的展示</p><figure><img src="'+r+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>注：因为prometheus要去exporter去拉取（pull）数据，所以安装exporter的服务器防火墙要开放对应的端口给prometheus服务器</p><p>黑盒监控和白盒监控</p><h2 id="_2、exporter" tabindex="-1"><a class="header-anchor" href="#_2、exporter"><span>2、exporter</span></a></h2><p>学过的exporter</p><table id="6a535047" class="ne-table" style="table-layout:fixed;border-collapse:collapse;border:1px solid #d9d9d9;width:750px;"><tbody><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="u118b0da5" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">名称</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="u48b9608c" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">监控啥</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="u5614c4c7" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">node_exporter</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="u4b2e005b" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">Linux服务器的资源用量</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="u3493de16" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">nginx-prometheus-exporter</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="u87ffcad8" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">nginx</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="u0b750f76" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">rabbitmq_exporter</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="uab460c05" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">Rabbitmq</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="u2b6c221e" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">mongodb_exporter</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="uad635f64" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">mongodb数据库</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="u46f3c6ab" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">mysql_exporter</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="ue8f9567c" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">mysql数据库</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="uf8efe971" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">Redis_exporter</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="u665ce625" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">redis数据库</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="ufa13e85f" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">BlackBox_Exporter</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="ub8b56ce4" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">网络协议：http（get，post）、dns、tcp、icmp，ssl证书过期时间</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="u94e329df" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">domain_exporter</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="ud45b1fa3" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">域名过期时间</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="u9025d86c" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">cAdvisor</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="u0f317d4d" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">docker容器</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="u106f50c8" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">pom.xml和application.yaml</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="uac4604aa" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">springboot java应用</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr><tr style="height:33px;"><td width="250" style="border:1px solid #d9d9d9;"><p id="u0b10f153" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">process-exporter</span></p></td><td width="250" style="border:1px solid #d9d9d9;"><p id="u5bbd6d63" class="ne-p" style="margin:0;padding:0;min-height:24px;"><span class="ne-text">进程</span></p></td><td width="250" style="border:1px solid #d9d9d9;"></td></tr></tbody></table><h3 id="其他exporter" tabindex="-1"><a class="header-anchor" href="#其他exporter"><span>其他exporter</span></a></h3><p>除了 node_exporter 我们还会根据自己的业务选择安装其他 exporter 或者自己编写，比较常用的 exporter 有，</p><ul><li><p><a href="https://github.com/prometheus/memcached_exporter" target="_blank" rel="noopener noreferrer">Memcached exporter</a> 负责收集 Memcached 信息</p></li><li><p><a href="https://github.com/iamseth/oracledb_exporter" target="_blank" rel="noopener noreferrer">oracledb_exporter</a> 负责收集Oracle Sever 信息</p></li><li><p><a href="https://github.com/prometheus/influxdb_exporter" target="_blank" rel="noopener noreferrer">InfluxDB exporter</a> 负责收集 InfluxDB 信息</p></li><li><p><a href="https://github.com/prometheus/jmx_exporter" target="_blank" rel="noopener noreferrer">JMX exporter</a> 负责收集 Java 虚拟机信息</p></li><li><p><a href="https://github.com/google/mtail/" target="_blank" rel="noopener noreferrer">日志监控</a> 负责统计日志mtail</p></li><li><p><a href="https://github.com/prometheus/snmp_exporter" target="_blank" rel="noopener noreferrer">snmp_exporter</a> 负载收集网络、交换机设备信息</p></li><li><p><a href="https://github.com/bakins/php-fpm-exporter" target="_blank" rel="noopener noreferrer">PHP-FPM exporter</a> 收集php信息</p></li></ul><p>更多 exporter 请参考<a href="https://prometheus.io/docs/instrumenting/exporters/" target="_blank" rel="noopener noreferrer">链接</a>。</p>',15),a=[i];function n(l,o){return d(),t("div",null,a)}const c=e(s,[["render",n],["__file","2.15.监控总结.html.vue"]]),g=JSON.parse('{"path":"/note/Prometheus/2.15.%E7%9B%91%E6%8E%A7%E6%80%BB%E7%BB%93.html","title":"2.15.监控总结","lang":"zh-CN","frontmatter":{"title":"2.15.监控总结","order":19,"icon":"lightbulb","description":"1、监控流程总结 1、需要在被监控的服务器上安装xx_exporter来收集数据 2、添加Prometheus配置，去收集（xx_exporter）提供的监控样本数据 3、配置触发器（告警规则） 4、Grafana添加dashboard，图形的展示 注：因为prometheus要去exporter去拉取（pull）数据，所以安装exporter的服务器...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/vuepress/note/Prometheus/2.15.%E7%9B%91%E6%8E%A7%E6%80%BB%E7%BB%93.html"}],["meta",{"property":"og:site_name","content":"风华"}],["meta",{"property":"og:title","content":"2.15.监控总结"}],["meta",{"property":"og:description","content":"1、监控流程总结 1、需要在被监控的服务器上安装xx_exporter来收集数据 2、添加Prometheus配置，去收集（xx_exporter）提供的监控样本数据 3、配置触发器（告警规则） 4、Grafana添加dashboard，图形的展示 注：因为prometheus要去exporter去拉取（pull）数据，所以安装exporter的服务器..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"风华"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"2.15.监控总结\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"风华\\",\\"url\\":\\"/portfolio\\"}]}"]]},"headers":[{"level":2,"title":"1、监控流程总结","slug":"_1、监控流程总结","link":"#_1、监控流程总结","children":[]},{"level":2,"title":"2、exporter","slug":"_2、exporter","link":"#_2、exporter","children":[{"level":3,"title":"其他exporter","slug":"其他exporter","link":"#其他exporter","children":[]}]}],"git":{},"readingTime":{"minutes":4.11,"words":1234},"filePathRelative":"note/Prometheus/2.15.监控总结.md","autoDesc":true}');export{c as comp,g as data};
