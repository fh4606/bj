import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,o as e,d as a}from"./app-CAdWGPj0.js";const i="/vuepress/assets/20240624001-BCo7l1kk.png",l={},t=a('<p>åŸåˆ› è¿ç»´æœ‰æœ¯ [è¿ç»´æœ‰æœ¯](javascript:void(0)ğŸ˜‰ <em>2024-04-25 21:27</em> <em>å±±ä¸œ</em></p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p><strong>2024 å¹´äº‘åŸç”Ÿè¿ç»´å®æˆ˜æ–‡æ¡£ 99 ç¯‡åŸåˆ›è®¡åˆ’</strong> <strong>ç¬¬ 009 ç¯‡</strong> ï½œ<strong>KubeSphere æœ€ä½³å®æˆ˜ã€Œ2024ã€ç³»åˆ—</strong> <strong>ç¬¬ 001 ç¯‡</strong></p></div><p>ä½ å¥½ï¼Œæ¬¢è¿æ¥åˆ°<strong>è¿ç»´æœ‰æœ¯</strong>ã€‚</p><p>ä»Šå¤©åˆ†äº«çš„å†…å®¹æ˜¯ <strong>KubeSphere æœ€ä½³å®æˆ˜ã€Œ2024ã€</strong> ç³»åˆ—æ–‡æ¡£ä¸­çš„ <strong>KubeKey éƒ¨ç½² Kubernetes v1.28.8 å®æˆ˜</strong>ã€‚</p><p>åœ¨æŸäº›ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬ä»…éœ€è¦ä¸€ä¸ªåŸç”Ÿçš„ k8s é›†ç¾¤ï¼Œæ— éœ€éƒ¨ç½² <strong>KubeSphere</strong> è¿™æ ·çš„å›¾å½¢åŒ–ç®¡ç†æ§åˆ¶å°ã€‚åœ¨æˆ‘ä»¬å·²æœ‰çš„æŠ€æœ¯æ ˆé‡Œï¼Œå·²ç»ä¹ æƒ¯äº†åˆ©ç”¨ <strong>KubeKey</strong> éƒ¨ç½² KubeSphere å’Œ Kubernetes é›†ç¾¤ã€‚ä»Šå¤©ï¼Œæˆ‘å°†ä¸ºå¤§å®¶å®æˆ˜æ¼”ç¤ºå¦‚ä½•åœ¨ <strong>openEuler 22.03 LTS SP3</strong> ä¸Šï¼Œåˆ©ç”¨ KubeKey éƒ¨ç½²ä¸€å¥—çº¯ç²¹çš„ k8s é›†ç¾¤ã€‚</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p><strong>å†…å®¹å¯¼å›¾</strong></p></div><figure><img src="'+i+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p><strong>å®æˆ˜æœåŠ¡å™¨é…ç½® (æ¶æ„ 1:1 å¤åˆ»å°è§„æ¨¡ç”Ÿäº§ç¯å¢ƒï¼Œé…ç½®ç•¥æœ‰ä¸åŒ)</strong></p></div><table><thead><tr><th style="text-align:center;">ä¸»æœºå</th><th style="text-align:center;">IP</th><th style="text-align:center;">CPU</th><th style="text-align:center;">å†…å­˜</th><th style="text-align:center;">ç³»ç»Ÿç›˜</th><th style="text-align:center;">æ•°æ®ç›˜</th><th style="text-align:center;">ç”¨é€”</th></tr></thead><tbody><tr><td style="text-align:center;">ksp-master-1</td><td style="text-align:center;">192.168.9.131</td><td style="text-align:center;">8</td><td style="text-align:center;">16</td><td style="text-align:center;">40</td><td style="text-align:center;">100</td><td style="text-align:center;">k8s-master</td></tr><tr><td style="text-align:center;">ksp-master-2</td><td style="text-align:center;">192.168.9.132</td><td style="text-align:center;">8</td><td style="text-align:center;">16</td><td style="text-align:center;">40</td><td style="text-align:center;">100</td><td style="text-align:center;">k8s-master</td></tr><tr><td style="text-align:center;">ksp-master-3</td><td style="text-align:center;">192.168.9.133</td><td style="text-align:center;">8</td><td style="text-align:center;">16</td><td style="text-align:center;">40</td><td style="text-align:center;">100</td><td style="text-align:center;">k8s-master</td></tr><tr><td style="text-align:center;">åˆè®¡</td><td style="text-align:center;">3</td><td style="text-align:center;">24</td><td style="text-align:center;">48</td><td style="text-align:center;">120</td><td style="text-align:center;">300</td><td style="text-align:center;"></td></tr></tbody></table><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p><strong>å®æˆ˜ç¯å¢ƒæ¶‰åŠè½¯ä»¶ç‰ˆæœ¬ä¿¡æ¯</strong></p></div><ul><li>æ“ä½œç³»ç»Ÿï¼š<strong>openEuler 22.03 LTS SP3 x64</strong></li><li>Kubernetesï¼š<strong>v1.28.8</strong></li><li>Containerdï¼š<strong>1.7.13</strong></li><li>KubeKey: <strong>v3.1.1</strong></li></ul><h2 id="_1-æ“ä½œç³»ç»ŸåŸºç¡€é…ç½®" tabindex="-1"><a class="header-anchor" href="#_1-æ“ä½œç³»ç»ŸåŸºç¡€é…ç½®"><span><strong>1. æ“ä½œç³»ç»ŸåŸºç¡€é…ç½®</strong></span></a></h2><p>è¯·æ³¨æ„ï¼Œä»¥ä¸‹æ“ä½œæ— ç‰¹æ®Šè¯´æ˜æ—¶éœ€åœ¨æ‰€æœ‰æœåŠ¡å™¨ä¸Šæ‰§è¡Œã€‚æœ¬æ–‡åªé€‰å– Master-1 èŠ‚ç‚¹ä½œä¸ºæ¼”ç¤ºï¼Œå¹¶å‡å®šå…¶ä½™æœåŠ¡å™¨éƒ½å·²æŒ‰ç…§ç›¸åŒçš„æ–¹å¼è¿›è¡Œé…ç½®å’Œè®¾ç½®ã€‚</p><h3 id="_1-1-é…ç½®ä¸»æœºå" tabindex="-1"><a class="header-anchor" href="#_1-1-é…ç½®ä¸»æœºå"><span>1.1 é…ç½®ä¸»æœºå</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>hostnamectl hostname ksp-master-1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_1-2-é…ç½®-dns" tabindex="-1"><a class="header-anchor" href="#_1-2-é…ç½®-dns"><span>1.2 é…ç½® DNS</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>echo &quot;nameserver 114.114.114.114&quot; &gt; /etc/resolv.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_1-3-é…ç½®æœåŠ¡å™¨æ—¶åŒº" tabindex="-1"><a class="header-anchor" href="#_1-3-é…ç½®æœåŠ¡å™¨æ—¶åŒº"><span>1.3 é…ç½®æœåŠ¡å™¨æ—¶åŒº</span></a></h3><ul><li>é…ç½®æœåŠ¡å™¨æ—¶åŒºä¸º <strong>Asia/Shanghai</strong>ã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>timedatectl set-timezone Asia/Shanghai</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_1-4-é…ç½®æ—¶é—´åŒæ­¥" tabindex="-1"><a class="header-anchor" href="#_1-4-é…ç½®æ—¶é—´åŒæ­¥"><span>1.4 é…ç½®æ—¶é—´åŒæ­¥</span></a></h3><ul><li>å®‰è£… chrony ä½œä¸ºæ—¶é—´åŒæ­¥è½¯ä»¶</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>yum install chrony</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ç¼–è¾‘é…ç½®æ–‡ä»¶ <code>/etc/chrony.conf</code>ï¼Œä¿®æ”¹ ntp æœåŠ¡å™¨é…ç½®</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>vi /etc/chrony.conf</span></span>
<span class="line"><span></span></span>
<span class="line"><span># åˆ é™¤æ‰€æœ‰çš„ pool é…ç½®</span></span>
<span class="line"><span>pool pool.ntp.org iburst</span></span>
<span class="line"><span></span></span>
<span class="line"><span># å¢åŠ å›½å†…çš„ ntp æœåŠ¡å™¨ï¼Œæˆ–æ˜¯æŒ‡å®šå…¶ä»–å¸¸ç”¨çš„æ—¶é—´æœåŠ¡å™¨</span></span>
<span class="line"><span>pool cn.pool.ntp.org iburst</span></span>
<span class="line"><span></span></span>
<span class="line"><span># ä¸Šé¢çš„æ‰‹å·¥æ“ä½œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ sed è‡ªåŠ¨æ›¿æ¢</span></span>
<span class="line"><span>sed -i &#39;s/^pool pool.*/pool cn.pool.ntp.org iburst/g&#39; /etc/chrony.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é‡å¯å¹¶è®¾ç½® chrony æœåŠ¡å¼€æœºè‡ªå¯åŠ¨</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>systemctl enable chronyd --now</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>éªŒè¯ chrony åŒæ­¥çŠ¶æ€</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span># æ‰§è¡ŒæŸ¥çœ‹å‘½ä»¤</span></span>
<span class="line"><span>chronyc sourcestats -v</span></span>
<span class="line"><span></span></span>
<span class="line"><span># æ­£å¸¸çš„è¾“å‡ºç»“æœå¦‚ä¸‹</span></span>
<span class="line"><span>[root@ksp-master-1 ~]# chronyc sourcestats -v</span></span>
<span class="line"><span>                             .- Number of sample points in measurement set.</span></span>
<span class="line"><span>                            /    .- Number of residual runs with same sign.</span></span>
<span class="line"><span>                           |    /    .- Length of measurement set (time).</span></span>
<span class="line"><span>                           |   |    /      .- Est. clock freq error (ppm).</span></span>
<span class="line"><span>                           |   |   |      /           .- Est. error in freq.</span></span>
<span class="line"><span>                           |   |   |     |           /         .- Est. offset.</span></span>
<span class="line"><span>                           |   |   |     |          |          |   On the -.</span></span>
<span class="line"><span>                           |   |   |     |          |          |   samples. \\</span></span>
<span class="line"><span>                           |   |   |     |          |          |             |</span></span>
<span class="line"><span>Name/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev</span></span>
<span class="line"><span>==============================================================================</span></span>
<span class="line"><span>111.230.189.174            18  11   977     -0.693      6.795  -1201us  2207us</span></span>
<span class="line"><span>electrode.felixc.at        18  10   917     +2.884      8.258    -31ms  2532us</span></span>
<span class="line"><span>tick.ntp.infomaniak.ch     14   7   720     +2.538     23.906  +6176us  4711us</span></span>
<span class="line"><span>time.cloudflare.com        18   7   913     +0.633      9.026  -2543us  3142us</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-5-å…³é—­ç³»ç»Ÿé˜²ç«å¢™" tabindex="-1"><a class="header-anchor" href="#_1-5-å…³é—­ç³»ç»Ÿé˜²ç«å¢™"><span>1.5 å…³é—­ç³»ç»Ÿé˜²ç«å¢™</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>systemctl stop firewalld &amp;&amp; systemctl disable firewalld</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_1-6-ç¦ç”¨-selinux" tabindex="-1"><a class="header-anchor" href="#_1-6-ç¦ç”¨-selinux"><span>1.6 ç¦ç”¨ SELinux</span></a></h3><p>openEuler 22.03 SP3 æœ€å°åŒ–å®‰è£…çš„ç³»ç»Ÿé»˜è®¤å¯ç”¨äº† SELinuxï¼Œä¸ºäº†å‡å°‘éº»çƒ¦ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½ç¦ç”¨ SELinuxã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span># ä½¿ç”¨ sed ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå®ç°å½»åº•çš„ç¦ç”¨</span></span>
<span class="line"><span>sed -i &#39;s/^SELINUX=enforcing/SELINUX=disabled/&#39; /etc/selinux/config</span></span>
<span class="line"><span></span></span>
<span class="line"><span># ä½¿ç”¨å‘½ä»¤ï¼Œå®ç°ä¸´æ—¶ç¦ç”¨ï¼Œè¿™ä¸€æ­¥å…¶å®ä¸åšä¹Ÿè¡Œï¼ŒKubeKey ä¼šè‡ªåŠ¨é…ç½®</span></span>
<span class="line"><span>setenforce 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-7-å®‰è£…ç³»ç»Ÿä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_1-7-å®‰è£…ç³»ç»Ÿä¾èµ–"><span>1.7 å®‰è£…ç³»ç»Ÿä¾èµ–</span></a></h3><p>åœ¨æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ä¸º Kubernetes å®‰è£…ç³»ç»ŸåŸºæœ¬ä¾èµ–åŒ…ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span># å®‰è£… Kubernetes ç³»ç»Ÿä¾èµ–åŒ…</span></span>
<span class="line"><span>yum install curl socat conntrack ebtables ipset ipvsadm</span></span>
<span class="line"><span></span></span>
<span class="line"><span># å®‰è£… tar åŒ…ï¼Œä¸è£…çš„è¯åé¢ä¼šæŠ¥é”™ã€‚openEuler ä¹Ÿæ˜¯ä¸ªå¥‡è‘©ï¼Œè¿­ä»£è¿™ä¹ˆå¤šç‰ˆæœ¬äº†ï¼Œé»˜è®¤å±…ç„¶è¿˜ä¸å®‰è£… tar</span></span>
<span class="line"><span>yum install tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-æ“ä½œç³»ç»Ÿç£ç›˜é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-æ“ä½œç³»ç»Ÿç£ç›˜é…ç½®"><span><strong>2. æ“ä½œç³»ç»Ÿç£ç›˜é…ç½®</strong></span></a></h2><p>æœåŠ¡å™¨æ–°å¢ä¸€å—æ•°æ®ç›˜ <strong>/dev/sdb</strong>ï¼Œç”¨äº <strong>Containerd</strong> å’Œ <strong>Kubernetes Pod</strong> çš„æŒä¹…åŒ–å­˜å‚¨ã€‚</p><p>ä¸ºäº†æ»¡è¶³éƒ¨åˆ†ç”¨æˆ·å¸Œæœ›åœ¨ç”Ÿäº§ä¸Šçº¿åï¼Œç£ç›˜å®¹é‡ä¸è¶³æ—¶å¯ä»¥å®ç°åŠ¨æ€æ‰©å®¹ã€‚æœ¬æ–‡é‡‡ç”¨äº† LVM çš„æ–¹å¼é…ç½®ç£ç›˜ï¼ˆ<strong>å®é™…ä¸Šï¼Œæœ¬äººç»´æŠ¤çš„ç”Ÿäº§ç¯å¢ƒï¼Œå‡ ä¹ä¸ç”¨ LVM</strong>ï¼‰ã€‚</p><p>è¯·æ³¨æ„ï¼Œä»¥ä¸‹æ“ä½œæ— ç‰¹æ®Šè¯´æ˜æ—¶éœ€åœ¨é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹ä¸Šæ‰§è¡Œã€‚æœ¬æ–‡åªé€‰å– <strong>Master-1</strong> èŠ‚ç‚¹ä½œä¸ºæ¼”ç¤ºï¼Œå¹¶å‡å®šå…¶ä½™æœåŠ¡å™¨éƒ½å·²æŒ‰ç…§ç›¸åŒçš„æ–¹å¼è¿›è¡Œé…ç½®å’Œè®¾ç½®ã€‚</p><h3 id="_2-1-ä½¿ç”¨-lvm-é…ç½®ç£ç›˜" tabindex="-1"><a class="header-anchor" href="#_2-1-ä½¿ç”¨-lvm-é…ç½®ç£ç›˜"><span>2.1 ä½¿ç”¨ LVM é…ç½®ç£ç›˜</span></a></h3><ul><li>åˆ›å»º PV</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span> pvcreate /dev/sdb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>åˆ›å»º VG</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>vgcreate data /dev/sdb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>åˆ›å»º LV</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span># ä½¿ç”¨æ‰€æœ‰ç©ºé—´ï¼ŒVG åå­—ä¸º dataï¼ŒLV åå­—ä¸º lvdata</span></span>
<span class="line"><span>lvcreate -l 100%VG data -n lvdata</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-æ ¼å¼åŒ–ç£ç›˜" tabindex="-1"><a class="header-anchor" href="#_2-2-æ ¼å¼åŒ–ç£ç›˜"><span>2.2 æ ¼å¼åŒ–ç£ç›˜</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>mkfs.xfs /dev/mapper/data-lvdata</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-3-ç£ç›˜æŒ‚è½½" tabindex="-1"><a class="header-anchor" href="#_2-3-ç£ç›˜æŒ‚è½½"><span>2.3 ç£ç›˜æŒ‚è½½</span></a></h3><ul><li>æ‰‹å·¥æŒ‚è½½</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>mkdir /data</span></span>
<span class="line"><span>mount /dev/mapper/data-lvdata /data/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¼€æœºè‡ªåŠ¨æŒ‚è½½</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>tail -1 /etc/mtab &gt;&gt; /etc/fstab</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-4-åˆ›å»ºæ•°æ®ç›®å½•" tabindex="-1"><a class="header-anchor" href="#_2-4-åˆ›å»ºæ•°æ®ç›®å½•"><span>2.4 åˆ›å»ºæ•°æ®ç›®å½•</span></a></h3><ul><li>åˆ›å»º <strong>OpenEBS</strong> æœ¬åœ°æ•°æ®æ ¹ç›®å½•</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>mkdir -p /data/openebs/local</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>åˆ›å»º <strong>Containerd</strong> æ•°æ®ç›®å½•</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>mkdir -p /data/containerd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>åˆ›å»º Containerd æ•°æ®ç›®å½•è½¯è¿æ¥</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>ln -s /data/containerd /var/lib/containerd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p><strong>è¯´æ˜ï¼š</strong> KubeKey åˆ° v3.1.1 ç‰ˆä¸ºæ­¢ï¼Œä¸€ç›´ä¸æ”¯æŒåœ¨éƒ¨ç½²çš„æ—¶å€™æ›´æ”¹ Containerd çš„æ•°æ®ç›®å½•ï¼Œåªèƒ½ç”¨è¿™ç§ç›®å½•è½¯é“¾æ¥åˆ°å˜é€šæ–¹å¼æ¥å¢åŠ å­˜å‚¨ç©ºé—´ï¼ˆ<strong>ä¹Ÿå¯ä»¥æå‰æ‰‹å·¥å®‰è£… Containerd</strong>ï¼‰ã€‚</p></div><h2 id="_3-å®‰è£…éƒ¨ç½²-kubernetes" tabindex="-1"><a class="header-anchor" href="#_3-å®‰è£…éƒ¨ç½²-kubernetes"><span><strong>3. å®‰è£…éƒ¨ç½² Kubernetes</strong></span></a></h2><h3 id="_3-1-ä¸‹è½½-kubekey" tabindex="-1"><a class="header-anchor" href="#_3-1-ä¸‹è½½-kubekey"><span>3.1 ä¸‹è½½ KubeKey</span></a></h3><p>æœ¬æ–‡å°† <strong>master-1</strong> èŠ‚ç‚¹ä½œä¸ºéƒ¨ç½²èŠ‚ç‚¹ï¼ŒæŠŠ KubeKey (ä¸‹æ–‡ç®€ç§° kk) æœ€æ–°ç‰ˆ (<strong>v3.1.1</strong>) äºŒè¿›åˆ¶æ–‡ä»¶ä¸‹è½½åˆ°è¯¥æœåŠ¡å™¨ã€‚å…·ä½“ kk ç‰ˆæœ¬å·å¯ä»¥åœ¨kk release é¡µé¢æŸ¥çœ‹ã€‚</p><ul><li>ä¸‹è½½æœ€æ–°ç‰ˆçš„ KubeKey</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>mkdir ~/kubekey</span></span>
<span class="line"><span>cd ~/kubekey/</span></span>
<span class="line"><span></span></span>
<span class="line"><span># é€‰æ‹©ä¸­æ–‡åŒºä¸‹è½½(è®¿é—® GitHub å—é™æ—¶ä½¿ç”¨)</span></span>
<span class="line"><span>export KKZONE=cn</span></span>
<span class="line"><span>curl -sfL https://get-kk.kubesphere.io | sh -</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ­£ç¡®çš„æ‰§è¡Œç»“æœå¦‚ä¸‹</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@ksp-master-1 ~]# mkdir ~/kubekey</span></span>
<span class="line"><span>[root@ksp-master-1 ~]# cd ~/kubekey/</span></span>
<span class="line"><span>[root@ksp-master-1 kubekey]# export KKZONE=cn</span></span>
<span class="line"><span>[root@ksp-master-1 kubekey]# curl -sfL https://get-kk.kubesphere.io | sh -</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Downloading kubekey v3.1.1 from https://kubernetes.pek3b.qingstor.com/kubekey/releases/download/v3.1.1/kubekey-v3.1.1-linux-amd64.tar.gz ...</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Kubekey v3.1.1 Download Complete!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[root@ksp-master-1 kubekey]# ll -h</span></span>
<span class="line"><span>total 114M</span></span>
<span class="line"><span>-rwxr-xr-x. 1 root root 79M Apr 16 12:30 kk</span></span>
<span class="line"><span>-rw-r--r--. 1 root root 36M Apr 25 09:37 kubekey-v3.1.1-linux-amd64.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŸ¥çœ‹ KubeKey æ”¯æŒçš„ Kubernetes ç‰ˆæœ¬åˆ—è¡¨ <strong><code>./kk version --show-supported-k8s</code></strong></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@ksp-master-1 kubekey]# ./kk version --show-supported-k8s</span></span>
<span class="line"><span>v1.19.0</span></span>
<span class="line"><span>......(å—é™äºç¯‡å¹…ï¼Œä¸­é—´çš„ä¸å±•ç¤ºï¼Œè¯·è¯»è€…æ ¹æ®éœ€æ±‚æŸ¥çœ‹)</span></span>
<span class="line"><span>v1.28.0</span></span>
<span class="line"><span>v1.28.1</span></span>
<span class="line"><span>v1.28.2</span></span>
<span class="line"><span>v1.28.3</span></span>
<span class="line"><span>v1.28.4</span></span>
<span class="line"><span>v1.28.5</span></span>
<span class="line"><span>v1.28.6</span></span>
<span class="line"><span>v1.28.7</span></span>
<span class="line"><span>v1.28.8</span></span>
<span class="line"><span>v1.29.0</span></span>
<span class="line"><span>v1.29.1</span></span>
<span class="line"><span>v1.29.2</span></span>
<span class="line"><span>v1.29.3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p><strong>è¯´æ˜ï¼š</strong> è¾“å‡ºç»“æœä¸º kk æ”¯æŒçš„ç»“æœï¼Œä½†ä¸ä»£è¡¨ KubeSphere å’Œå…¶ä»– k8s ä¹Ÿèƒ½å®Œç¾æ”¯æŒã€‚æœ¬æ–‡ä»…ç”¨ kk éƒ¨ç½² k8sï¼Œæ‰€ä»¥ä¸ç”¨ç‰¹åˆ«è€ƒè™‘ç‰ˆæœ¬çš„å…¼å®¹æ€§ã€‚</p></div><p>kk æ”¯æŒçš„ k8s ç‰ˆæœ¬è¿˜æ˜¯æ¯”è¾ƒæ–°çš„ã€‚æœ¬æ–‡é€‰æ‹© <strong>v1.28.8</strong>ï¼Œç”Ÿäº§ç¯å¢ƒå¯ä»¥é€‰æ‹© <strong>v1.26.15</strong> æˆ–æ˜¯å…¶ä»–æ¬¡è¦ç‰ˆæœ¬æ˜¯<strong>åŒæ•°</strong>ï¼Œè¡¥ä¸ç‰ˆæœ¬æ•°è¶…è¿‡ <strong>5</strong> çš„ç‰ˆæœ¬ã€‚ä¸å»ºè®®é€‰æ‹©å¤ªè€çš„ç‰ˆæœ¬äº†ï¼Œæ¯•ç«Ÿ v1.30 éƒ½å·²ç»å‘å¸ƒäº†ã€‚</p><h3 id="_3-2-åˆ›å»º-kubernetes-é›†ç¾¤éƒ¨ç½²é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_3-2-åˆ›å»º-kubernetes-é›†ç¾¤éƒ¨ç½²é…ç½®æ–‡ä»¶"><span>3.2 åˆ›å»º Kubernetes é›†ç¾¤éƒ¨ç½²é…ç½®æ–‡ä»¶</span></a></h3><ol><li>åˆ›å»ºé›†ç¾¤é…ç½®æ–‡ä»¶</li></ol><p>æœ¬æ–‡é€‰æ‹©äº† k8s <strong>v1.28.8</strong>ã€‚å› æ­¤ï¼ŒæŒ‡å®šé…ç½®æ–‡ä»¶åç§°ä¸º <strong>k8s-v1288.yaml</strong>ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤çš„æ–‡ä»¶åä¸º <strong>config-sample.yaml</strong>ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>./kk create config -f k8s-v1288.yaml --with-kubernetes v1.28.8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p><strong>æ³¨æ„ï¼š</strong> ç”Ÿæˆçš„é»˜è®¤é…ç½®æ–‡ä»¶å†…å®¹è¾ƒå¤šï¼Œè¿™é‡Œå°±ä¸åšè¿‡å¤šå±•ç¤ºäº†ï¼Œæ›´å¤šè¯¦ç»†çš„é…ç½®å‚æ•°è¯·å‚è€ƒ å®˜æ–¹é…ç½®ç¤ºä¾‹ã€‚</p></div><ol><li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li></ol><p>æœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨ 3 ä¸ªèŠ‚ç‚¹åŒæ—¶ä½œä¸º control-planeã€etcd å’Œ worker èŠ‚ç‚¹ã€‚</p><p>ç¼–è¾‘é…ç½®æ–‡ä»¶ <code>k8s-v1288.yaml</code>ï¼Œä¸»è¦ä¿®æ”¹ <strong>kind: Cluster</strong> å°èŠ‚çš„ç›¸å…³é…ç½®</p><p>ä¿®æ”¹ <strong>kind: Cluster</strong> å°èŠ‚ä¸­ hosts å’Œ roleGroups ç­‰ä¿¡æ¯ï¼Œä¿®æ”¹è¯´æ˜å¦‚ä¸‹ã€‚</p><ul><li>hostsï¼šæŒ‡å®šèŠ‚ç‚¹çš„ IPã€ssh ç”¨æˆ·ã€ssh å¯†ç ã€ssh ç«¯å£</li><li>roleGroupsï¼šæŒ‡å®š 3 ä¸ª etcdã€control-plane èŠ‚ç‚¹ï¼Œå¤ç”¨ç›¸åŒçš„æœºå™¨ä½œä¸º 3 ä¸ª worker èŠ‚ç‚¹</li><li>internalLoadbalancerï¼š å¯ç”¨å†…ç½®çš„ HAProxy è´Ÿè½½å‡è¡¡å™¨</li><li>domainï¼šè‡ªå®šä¹‰åŸŸå <strong>lb.opsxlab.cn</strong>ï¼Œæ²¡ç‰¹æ®Šéœ€æ±‚å¯ä½¿ç”¨é»˜è®¤å€¼ <strong>lb.kubesphere.local</strong></li><li>clusterNameï¼šè‡ªå®šä¹‰ <strong>opsxlab.cn</strong>ï¼Œæ²¡ç‰¹æ®Šéœ€æ±‚å¯ä½¿ç”¨é»˜è®¤å€¼ <strong>cluster.local</strong></li><li>autoRenewCertsï¼šè¯¥å‚æ•°å¯ä»¥å®ç°è¯ä¹¦åˆ°æœŸè‡ªåŠ¨ç»­æœŸï¼Œé»˜è®¤ä¸º <strong>true</strong></li><li>containerManagerï¼šä½¿ç”¨ <strong>containerd</strong></li></ul><p>ä¿®æ”¹åçš„å®Œæ•´ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>apiVersion: kubekey.kubesphere.io/v1alpha2</span></span>
<span class="line"><span>kind: Cluster</span></span>
<span class="line"><span>metadata:</span></span>
<span class="line"><span>  name: sample</span></span>
<span class="line"><span>spec:</span></span>
<span class="line"><span>  hosts:</span></span>
<span class="line"><span>  - {name: ksp-master-1, address: 192.168.9.131, internalAddress: 192.168.9.131, user: root, password: &quot;OpsXlab@2024&quot;}</span></span>
<span class="line"><span>  - {name: ksp-master-2, address: 192.168.9.132, internalAddress: 192.168.9.132, user: root, password: &quot;OpsXlab@2024&quot;}</span></span>
<span class="line"><span>  - {name: ksp-master-3, address: 192.168.9.133, internalAddress: 192.168.9.133, user: root, password: &quot;OpsXlab@2024&quot;}</span></span>
<span class="line"><span>  roleGroups:</span></span>
<span class="line"><span>    etcd:</span></span>
<span class="line"><span>    - ksp-master-1</span></span>
<span class="line"><span>    - ksp-master-2</span></span>
<span class="line"><span>    - ksp-master-3</span></span>
<span class="line"><span>    control-plane:</span></span>
<span class="line"><span>    - ksp-master-1</span></span>
<span class="line"><span>    - ksp-master-2</span></span>
<span class="line"><span>    - ksp-master-3</span></span>
<span class="line"><span>    worker:</span></span>
<span class="line"><span>    - ksp-master-1</span></span>
<span class="line"><span>    - ksp-master-2</span></span>
<span class="line"><span>    - ksp-master-3</span></span>
<span class="line"><span>  controlPlaneEndpoint:</span></span>
<span class="line"><span>    ## Internal loadbalancer for apiservers</span></span>
<span class="line"><span>    internalLoadbalancer: haproxy</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    domain: lb.opsxlab.cn</span></span>
<span class="line"><span>    address: &quot;&quot;</span></span>
<span class="line"><span>    port: 6443</span></span>
<span class="line"><span>  kubernetes:</span></span>
<span class="line"><span>    version: v1.28.8</span></span>
<span class="line"><span>    clusterName: opsxlab.cn</span></span>
<span class="line"><span>    autoRenewCerts: true</span></span>
<span class="line"><span>    containerManager: containerd</span></span>
<span class="line"><span>  etcd:</span></span>
<span class="line"><span>    type: kubekey</span></span>
<span class="line"><span>  network:</span></span>
<span class="line"><span>    plugin: calico</span></span>
<span class="line"><span>    kubePodsCIDR: 10.233.64.0/18</span></span>
<span class="line"><span>    kubeServiceCIDR: 10.233.0.0/18</span></span>
<span class="line"><span>    ## multus support. https://github.com/k8snetworkplumbingwg/multus-cni</span></span>
<span class="line"><span>    multusCNI:</span></span>
<span class="line"><span>      enabled: false</span></span>
<span class="line"><span>  registry:</span></span>
<span class="line"><span>    privateRegistry: &quot;&quot;</span></span>
<span class="line"><span>    namespaceOverride: &quot;&quot;</span></span>
<span class="line"><span>    registryMirrors: []</span></span>
<span class="line"><span>    insecureRegistries: []</span></span>
<span class="line"><span>  addons: []</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-éƒ¨ç½²-kubernetes" tabindex="-1"><a class="header-anchor" href="#_3-3-éƒ¨ç½²-kubernetes"><span>3.3 éƒ¨ç½² Kubernetes</span></a></h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½¿ç”¨ä¸Šé¢ç”Ÿæˆçš„é…ç½®æ–‡ä»¶éƒ¨ç½² Kubernetesã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>export KKZONE=cn</span></span>
<span class="line"><span>./kk create cluster -f k8s-v1288.yaml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å‘½ä»¤æ‰§è¡Œåï¼Œé¦–å…ˆ kk ä¼šæ£€æŸ¥éƒ¨ç½² Kubernetes çš„ä¾èµ–åŠå…¶ä»–è¯¦ç»†è¦æ±‚ã€‚é€šè¿‡æ£€æŸ¥åï¼Œç³»ç»Ÿå°†æç¤ºæ‚¨ç¡®è®¤å®‰è£…ã€‚è¾“å…¥ <strong>yes</strong> å¹¶æŒ‰ ENTER ç»§ç»­éƒ¨ç½²ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@ksp-master-1 kubekey]# ./kk create cluster -f k8s-v1288.yaml</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span> _   __      _          _   __</span></span>
<span class="line"><span>| | / /     | |        | | / /</span></span>
<span class="line"><span>| |/ / _   _| |__   ___| |/ /  ___ _   _</span></span>
<span class="line"><span>|    \\| | | | &#39;_ \\ / _ \\    \\ / _ \\ | | |</span></span>
<span class="line"><span>| |\\  \\ |_| | |_) |  __/ |\\  \\  __/ |_| |</span></span>
<span class="line"><span>\\_| \\_/\\__,_|_.__/ \\___\\_| \\_/\\___|\\__, |</span></span>
<span class="line"><span>                                    __/ |</span></span>
<span class="line"><span>                                   |___/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>10:45:28 CST [GreetingsModule] Greetings</span></span>
<span class="line"><span>10:45:28 CST message: [ksp-master-3]</span></span>
<span class="line"><span>Greetings, KubeKey!</span></span>
<span class="line"><span>10:45:28 CST message: [ksp-master-1]</span></span>
<span class="line"><span>Greetings, KubeKey!</span></span>
<span class="line"><span>10:45:28 CST message: [ksp-master-2]</span></span>
<span class="line"><span>Greetings, KubeKey!</span></span>
<span class="line"><span>10:45:28 CST success: [ksp-master-3]</span></span>
<span class="line"><span>10:45:28 CST success: [ksp-master-1]</span></span>
<span class="line"><span>10:45:28 CST success: [ksp-master-2]</span></span>
<span class="line"><span>10:45:28 CST [NodePreCheckModule] A pre-check on nodes</span></span>
<span class="line"><span>10:45:31 CST success: [ksp-master-3]</span></span>
<span class="line"><span>10:45:31 CST success: [ksp-master-1]</span></span>
<span class="line"><span>10:45:31 CST success: [ksp-master-2]</span></span>
<span class="line"><span>10:45:31 CST [ConfirmModule] Display confirmation form</span></span>
<span class="line"><span>+--------------+------+------+---------+----------+-------+-------+---------+-----------+--------+--------+------------+------------+-------------+------------------+--------------+</span></span>
<span class="line"><span>| name         | sudo | curl | openssl | ebtables | socat | ipset | ipvsadm | conntrack | chrony | docker | containerd | nfs client | ceph client | glusterfs client | time         |</span></span>
<span class="line"><span>+--------------+------+------+---------+----------+-------+-------+---------+-----------+--------+--------+------------+------------+-------------+------------------+--------------+</span></span>
<span class="line"><span>| ksp-master-1 | y    | y    | y       | y        | y     | y     | y       | y         | y      |        |            |            |             |                  | CST 10:45:31 |</span></span>
<span class="line"><span>| ksp-master-2 | y    | y    | y       | y        | y     | y     | y       | y         | y      |        |            |            |             |                  | CST 10:45:31 |</span></span>
<span class="line"><span>| ksp-master-3 | y    | y    | y       | y        | y     | y     | y       | y         | y      |        |            |            |             |                  | CST 10:45:31 |</span></span>
<span class="line"><span>+--------------+------+------+---------+----------+-------+-------+---------+-----------+--------+--------+------------+------------+-------------+------------------+--------------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>This is a simple check of your environment.</span></span>
<span class="line"><span>Before installation, ensure that your machines meet all requirements specified at</span></span>
<span class="line"><span>https://github.com/kubesphere/kubekey#requirements-and-recommendations</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Continue this installation? [yes/no]:</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>nfs clientã€ceph clientã€glusterfs client 3 ä¸ªä¸å­˜å‚¨æœ‰å…³çš„ client æ˜¾ç¤ºæ²¡æœ‰å®‰è£…ï¼Œè¿™ä¸ªæˆ‘ä»¬åæœŸä¼šåœ¨å¯¹æ¥å­˜å‚¨çš„å®æˆ˜ä¸­å•ç‹¬å®‰è£…</li><li>dockerã€containerd ä¼šæ ¹æ®é…ç½®æ–‡ä»¶é€‰æ‹©çš„ <strong>containerManager</strong> ç±»å‹è‡ªåŠ¨å®‰è£…</li></ul></div><p>éƒ¨ç½²å®Œæˆéœ€è¦å¤§çº¦ 10-20 åˆ†é’Ÿå·¦å³ï¼Œå…·ä½“çœ‹ç½‘é€Ÿå’Œæœºå™¨é…ç½®ï¼Œæœ¬æ¬¡éƒ¨ç½²å®Œæˆè€—æ—¶ 20 åˆ†é’Ÿã€‚</p><p>éƒ¨ç½²å®Œæˆåï¼Œæ‚¨åº”è¯¥ä¼šåœ¨ç»ˆç«¯ä¸Šçœ‹åˆ°ç±»ä¼¼äºä¸‹é¢çš„è¾“å‡ºã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>10:59:25 CST [ConfigureKubernetesModule] Configure kubernetes</span></span>
<span class="line"><span>10:59:25 CST success: [ksp-master-1]</span></span>
<span class="line"><span>10:59:25 CST skipped: [ksp-master-2]</span></span>
<span class="line"><span>10:59:25 CST skipped: [ksp-master-3]</span></span>
<span class="line"><span>10:59:25 CST [ChownModule] Chown user $HOME/.kube dir</span></span>
<span class="line"><span>10:59:26 CST success: [ksp-master-3]</span></span>
<span class="line"><span>10:59:26 CST success: [ksp-master-2]</span></span>
<span class="line"><span>10:59:26 CST success: [ksp-master-1]</span></span>
<span class="line"><span>10:59:26 CST [AutoRenewCertsModule] Generate k8s certs renew script</span></span>
<span class="line"><span>10:59:27 CST success: [ksp-master-2]</span></span>
<span class="line"><span>10:59:27 CST success: [ksp-master-3]</span></span>
<span class="line"><span>10:59:27 CST success: [ksp-master-1]</span></span>
<span class="line"><span>10:59:27 CST [AutoRenewCertsModule] Generate k8s certs renew service</span></span>
<span class="line"><span>10:59:28 CST success: [ksp-master-3]</span></span>
<span class="line"><span>10:59:28 CST success: [ksp-master-2]</span></span>
<span class="line"><span>10:59:28 CST success: [ksp-master-1]</span></span>
<span class="line"><span>10:59:28 CST [AutoRenewCertsModule] Generate k8s certs renew timer</span></span>
<span class="line"><span>10:59:29 CST success: [ksp-master-2]</span></span>
<span class="line"><span>10:59:29 CST success: [ksp-master-3]</span></span>
<span class="line"><span>10:59:29 CST success: [ksp-master-1]</span></span>
<span class="line"><span>10:59:29 CST [AutoRenewCertsModule] Enable k8s certs renew service</span></span>
<span class="line"><span>10:59:29 CST success: [ksp-master-3]</span></span>
<span class="line"><span>10:59:29 CST success: [ksp-master-2]</span></span>
<span class="line"><span>10:59:29 CST success: [ksp-master-1]</span></span>
<span class="line"><span>10:59:29 CST [SaveKubeConfigModule] Save kube config as a configmap</span></span>
<span class="line"><span>10:59:29 CST success: [LocalHost]</span></span>
<span class="line"><span>10:59:29 CST [AddonsModule] Install addons</span></span>
<span class="line"><span>10:59:29 CST success: [LocalHost]</span></span>
<span class="line"><span>10:59:29 CST Pipeline[CreateClusterPipeline] execute successfully</span></span>
<span class="line"><span>Installation is complete.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Please check the result using the command:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        kubectl get pod -A</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-éªŒè¯-k8s-é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#_4-éªŒè¯-k8s-é›†ç¾¤"><span><strong>4. éªŒè¯ k8s é›†ç¾¤</strong></span></a></h2><h3 id="_4-1-kubectl-å‘½ä»¤è¡ŒéªŒè¯é›†ç¾¤çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#_4-1-kubectl-å‘½ä»¤è¡ŒéªŒè¯é›†ç¾¤çŠ¶æ€"><span>4.1 kubectl å‘½ä»¤è¡ŒéªŒè¯é›†ç¾¤çŠ¶æ€</span></a></h3><p><strong>æœ¬å°èŠ‚åªæ˜¯ç®€å•çš„çœ‹äº†ä¸€ä¸‹åŸºæœ¬çŠ¶æ€ï¼Œå¹¶ä¸å…¨é¢ï¼Œæ›´å¤šçš„ç»†èŠ‚å¤§å®¶è‡ªå·±ä½“éªŒæ¢ç´¢å§ã€‚</strong></p><ul><li>æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹ä¿¡æ¯</li></ul><p>åœ¨ master-1 èŠ‚ç‚¹è¿è¡Œ kubectl å‘½ä»¤è·å– Kubernetes é›†ç¾¤ä¸Šçš„å¯ç”¨èŠ‚ç‚¹åˆ—è¡¨ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>kubectl get nodes -o wide</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åœ¨è¾“å‡ºç»“æœä¸­å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰çš„ Kubernetes é›†ç¾¤æœ‰ä¸‰ä¸ªå¯ç”¨èŠ‚ç‚¹ã€èŠ‚ç‚¹çš„å†…éƒ¨ IPã€èŠ‚ç‚¹è§’è‰²ã€èŠ‚ç‚¹çš„ Kubernetes ç‰ˆæœ¬å·ã€å®¹å™¨è¿è¡Œæ—¶åŠç‰ˆæœ¬å·ã€æ“ä½œç³»ç»Ÿç±»å‹åŠå†…æ ¸ç‰ˆæœ¬ç­‰ä¿¡æ¯ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@ksp-master-1 kubekey]# kubectl get nodes -o wide</span></span>
<span class="line"><span>NAME           STATUS   ROLES                  AGE     VERSION   INTERNAL-IP     EXTERNAL-IP   OS-IMAGE                    KERNEL-VERSION                       CONTAINER-RUNTIME</span></span>
<span class="line"><span>ksp-master-1   Ready    control-plane,worker   9m43s   v1.28.8   192.168.9.131   &lt;none&gt;        openEuler 22.03 (LTS-SP3)   5.10.0-182.0.0.95.oe2203sp3.x86_64   containerd://1.7.13</span></span>
<span class="line"><span>ksp-master-2   Ready    control-plane,worker   8m8s    v1.28.8   192.168.9.132   &lt;none&gt;        openEuler 22.03 (LTS-SP3)   5.10.0-182.0.0.95.oe2203sp3.x86_64   containerd://1.7.13</span></span>
<span class="line"><span>ksp-master-3   Ready    control-plane,worker   8m9s    v1.28.8   192.168.9.133   &lt;none&gt;        openEuler 22.03 (LTS-SP3)   5.10.0-182.0.0.95.oe2203sp3.x86_64   containerd://1.7.13</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŸ¥çœ‹ Pod åˆ—è¡¨</li></ul><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤è·å–åœ¨ Kubernetes é›†ç¾¤ä¸Šè¿è¡Œçš„ Pod åˆ—è¡¨ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>kubectl get pods -o wide -A</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åœ¨è¾“å‡ºç»“æœä¸­å¯ä»¥çœ‹åˆ°ï¼Œ æ‰€æœ‰ pod éƒ½åœ¨è¿è¡Œã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@ksp-master-1 kubekey]# kubectl get pod -A -o wide</span></span>
<span class="line"><span>NAMESPACE     NAME                                       READY   STATUS    RESTARTS   AGE     IP              NODE        </span></span>
<span class="line"><span>kube-system   calico-kube-controllers-64f6cb8db5-fsgnq   1/1     Running   0          4m59s   10.233.84.2     ksp-master-1           </span></span>
<span class="line"><span>kube-system   calico-node-5hkm4                          1/1     Running   0          4m59s   192.168.9.133   ksp-master-3          </span></span>
<span class="line"><span>kube-system   calico-node-wqz9s                          1/1     Running   0          4m59s   192.168.9.132   ksp-master-2</span></span>
<span class="line"><span>kube-system   calico-node-zzr5n                          1/1     Running   0          4m59s   192.168.9.131   ksp-master-1</span></span>
<span class="line"><span>kube-system   coredns-76dd97cd74-66k8z                   1/1     Running   0          6m22s   10.233.84.1     ksp-master-1</span></span>
<span class="line"><span>kube-system   coredns-76dd97cd74-94kvl                   1/1     Running   0          6m22s   10.233.84.3     ksp-master-1</span></span>
<span class="line"><span>kube-system   kube-apiserver-ksp-master-1                1/1     Running   0          6m39s   192.168.9.131   ksp-master-1</span></span>
<span class="line"><span>kube-system   kube-apiserver-ksp-master-2                1/1     Running   0          4m52s   192.168.9.132   ksp-master-2</span></span>
<span class="line"><span>kube-system   kube-apiserver-ksp-master-3                1/1     Running   0          5m9s    192.168.9.133   ksp-master-3</span></span>
<span class="line"><span>kube-system   kube-controller-manager-ksp-master-1       1/1     Running   0          6m39s   192.168.9.131   ksp-master-1</span></span>
<span class="line"><span>kube-system   kube-controller-manager-ksp-master-2       1/1     Running   0          4m58s   192.168.9.132   ksp-master-2</span></span>
<span class="line"><span>kube-system   kube-controller-manager-ksp-master-3       1/1     Running   0          5m5s    192.168.9.133   ksp-master-3</span></span>
<span class="line"><span>kube-system   kube-proxy-2xpq4                           1/1     Running   0          5m3s    192.168.9.131   ksp-master-1</span></span>
<span class="line"><span>kube-system   kube-proxy-9frmd                           1/1     Running   0          5m3s    192.168.9.133   ksp-master-3</span></span>
<span class="line"><span>kube-system   kube-proxy-bhg2k                           1/1     Running   0          5m3s    192.168.9.132   ksp-master-2</span></span>
<span class="line"><span>kube-system   kube-scheduler-ksp-master-1                1/1     Running   0          6m39s   192.168.9.131   ksp-master-1</span></span>
<span class="line"><span>kube-system   kube-scheduler-ksp-master-2                1/1     Running   0          4m59s   192.168.9.132   ksp-master-2</span></span>
<span class="line"><span>kube-system   kube-scheduler-ksp-master-3                1/1     Running   0          5m5s    192.168.9.133   ksp-master-3</span></span>
<span class="line"><span>kube-system   nodelocaldns-gl6dc                         1/1     Running   0          6m22s   192.168.9.131   ksp-master-1</span></span>
<span class="line"><span>kube-system   nodelocaldns-q45jf                         1/1     Running   0          5m9s    192.168.9.133   ksp-master-3</span></span>
<span class="line"><span>kube-system   nodelocaldns-rskk5                         1/1     Running   0          5m8s    192.168.9.132   ksp-master-2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŸ¥çœ‹ Image åˆ—è¡¨</li></ul><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤è·å–åœ¨ Kubernetes é›†ç¾¤èŠ‚ç‚¹ä¸Šå·²ç»ä¸‹è½½çš„ Image åˆ—è¡¨ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@ksp-master-1 kubekey]# crictl images ls</span></span>
<span class="line"><span>IMAGE                                                                   TAG                 IMAGE ID            SIZE</span></span>
<span class="line"><span>registry.cn-beijing.aliyuncs.com/kubesphereio/cni                       v3.27.3             6527a35581401       88.4MB</span></span>
<span class="line"><span>registry.cn-beijing.aliyuncs.com/kubesphereio/coredns                   1.9.3               5185b96f0becf       14.8MB</span></span>
<span class="line"><span>registry.cn-beijing.aliyuncs.com/kubesphereio/k8s-dns-node-cache        1.22.20             ff71cd4ea5ae5       30.5MB</span></span>
<span class="line"><span>registry.cn-beijing.aliyuncs.com/kubesphereio/kube-apiserver            v1.28.8             e70a71eaa5605       34.7MB</span></span>
<span class="line"><span>registry.cn-beijing.aliyuncs.com/kubesphereio/kube-controller-manager   v1.28.8             e5ae3e4dc6566       33.5MB</span></span>
<span class="line"><span>registry.cn-beijing.aliyuncs.com/kubesphereio/kube-controllers          v3.27.3             3e4fd05c0c1c0       33.4MB</span></span>
<span class="line"><span>registry.cn-beijing.aliyuncs.com/kubesphereio/kube-proxy                v1.28.8             5ce97277076c6       28.1MB</span></span>
<span class="line"><span>registry.cn-beijing.aliyuncs.com/kubesphereio/kube-scheduler            v1.28.8             ad3260645145d       18.7MB</span></span>
<span class="line"><span>registry.cn-beijing.aliyuncs.com/kubesphereio/node                      v3.27.3             5c6ffd2b2a1d0       116MB</span></span>
<span class="line"><span>registry.cn-beijing.aliyuncs.com/kubesphereio/pause                     3.9                 e6f1816883972       321kB</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†éƒ¨ç½² 3 å° Master èŠ‚ç‚¹ å’Œ Worker èŠ‚ç‚¹å¤ç”¨çš„æœ€å°åŒ– Kubernetes é›†ç¾¤ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†åœ¨ Kubernetes é›†ç¾¤ä¸Šéƒ¨ç½²ä¸€ä¸ªç®€å•çš„ Nginx Web æœåŠ¡å™¨ï¼Œæµ‹è¯•éªŒè¯ Kubernetes é›†ç¾¤æ˜¯å¦æ­£å¸¸ã€‚</p><h2 id="_5-éƒ¨ç½²æµ‹è¯•èµ„æº" tabindex="-1"><a class="header-anchor" href="#_5-éƒ¨ç½²æµ‹è¯•èµ„æº"><span><strong>5. éƒ¨ç½²æµ‹è¯•èµ„æº</strong></span></a></h2><p>æœ¬ç¤ºä¾‹ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·åœ¨ Kubernetes é›†ç¾¤ä¸Šéƒ¨ç½²ä¸€ä¸ª Nginx Web æœåŠ¡å™¨ã€‚</p><h3 id="_5-1-åˆ›å»º-nginx-deployment" tabindex="-1"><a class="header-anchor" href="#_5-1-åˆ›å»º-nginx-deployment"><span>5.1 åˆ›å»º Nginx Deployment</span></a></h3><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªéƒ¨ç½² Nginx Web æœåŠ¡å™¨çš„ Deploymentã€‚æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºå…·æœ‰ä¸¤ä¸ªå‰¯æœ¬åŸºäº nginx:alpine é•œåƒçš„ Podã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>kubectl create deployment nginx --image=nginx:alpine --replicas=2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_5-2-åˆ›å»º-nginx-service" tabindex="-1"><a class="header-anchor" href="#_5-2-åˆ›å»º-nginx-service"><span>5.2 åˆ›å»º Nginx Service</span></a></h3><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ Kubernetes æœåŠ¡ï¼ŒæœåŠ¡åç§° nginxï¼ŒæœåŠ¡ç±»å‹ Nodeportï¼Œå¯¹å¤–çš„æœåŠ¡ç«¯å£ 80ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>kubectl create service nodeport nginx --tcp=80:80</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_5-3-éªŒè¯-nginx-deployment-å’Œ-pod" tabindex="-1"><a class="header-anchor" href="#_5-3-éªŒè¯-nginx-deployment-å’Œ-pod"><span>5.3 éªŒè¯ Nginx Deployment å’Œ Pod</span></a></h3><ul><li>è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹åˆ›å»ºçš„ Deployment å’Œ Pod èµ„æºã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>kubectl get deployment -o wide</span></span>
<span class="line"><span>kubectl get pods -o wide</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŸ¥çœ‹ç»“æœå¦‚ä¸‹ï¼š</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@ksp-master-1 kubekey]# kubectl get deployment -o wide</span></span>
<span class="line"><span>NAME    READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS   IMAGES         SELECTOR</span></span>
<span class="line"><span>nginx   2/2     2            2           20s   nginx        nginx:alpine   app=nginx</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[root@ksp-master-1 kubekey]# kubectl get pods -o wide</span></span>
<span class="line"><span>NAME                     READY   STATUS    RESTARTS   AGE   IP               NODE          NOMINATED NODE   READINESS GATES</span></span>
<span class="line"><span>nginx-6c557cc74d-tbw9c   1/1     Running   0          23s   10.233.102.187   ksp-master-2   &lt;none&gt;           &lt;none&gt;</span></span>
<span class="line"><span>nginx-6c557cc74d-xzzss   1/1     Running   0          23s   10.233.103.148   ksp-master-1   &lt;none&gt;           &lt;none&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-4-éªŒè¯-nginx-service" tabindex="-1"><a class="header-anchor" href="#_5-4-éªŒè¯-nginx-service"><span>5.4 éªŒè¯ Nginx Service</span></a></h3><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å¯ç”¨çš„æœåŠ¡åˆ—è¡¨ï¼Œåœ¨åˆ—è¡¨ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ° nginx æœåŠ¡ç±»å‹ ä¸º Nodeportï¼Œå¹¶åœ¨ Kubernetes ä¸»æœºä¸Šå¼€æ”¾äº† <strong>30619</strong> ç«¯å£ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>kubectl get svc -o wide</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æŸ¥çœ‹ç»“æœå¦‚ä¸‹</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@ksp-master-1 kubekey]# kubectl get svc -o wide</span></span>
<span class="line"><span>NAME         TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE     SELECTOR</span></span>
<span class="line"><span>kubernetes   ClusterIP   10.233.0.1     &lt;none&gt;        443/TCP        4d22h   &lt;none&gt;</span></span>
<span class="line"><span>nginx        NodePort    10.233.14.48   &lt;none&gt;        80:30619/TCP   5s      app=nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-5-éªŒè¯æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_5-5-éªŒè¯æœåŠ¡"><span>5.5 éªŒè¯æœåŠ¡</span></a></h3><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤è®¿é—®éƒ¨ç½²çš„ Nginx æœåŠ¡ï¼ŒéªŒè¯æœåŠ¡æ˜¯å¦æˆåŠŸéƒ¨ç½²ã€‚</p><ul><li>éªŒè¯ç›´æ¥è®¿é—® Pod</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>curl 10.233.102.187</span></span>
<span class="line"><span></span></span>
<span class="line"><span># è®¿é—®ç»“æœå¦‚ä¸‹</span></span>
<span class="line"><span>[root@ks-master-1 ~]# curl 10.233.102.187</span></span>
<span class="line"><span>&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span>&lt;html&gt;</span></span>
<span class="line"><span>&lt;head&gt;</span></span>
<span class="line"><span>&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span></span>
<span class="line"><span>&lt;style&gt;</span></span>
<span class="line"><span>html { color-scheme: light dark; }</span></span>
<span class="line"><span>body { width: 35em; margin: 0 auto;</span></span>
<span class="line"><span>font-family: Tahoma, Verdana, Arial, sans-serif; }</span></span>
<span class="line"><span>&lt;/style&gt;</span></span>
<span class="line"><span>&lt;/head&gt;</span></span>
<span class="line"><span>&lt;body&gt;</span></span>
<span class="line"><span>&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span></span>
<span class="line"><span>&lt;p&gt;If you see this page, the nginx web server is successfully installed and</span></span>
<span class="line"><span>working. Further configuration is required.&lt;/p&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;p&gt;For online documentation and support please refer to</span></span>
<span class="line"><span>&lt;a href=&quot;http://nginx.org/&quot;&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;</span></span>
<span class="line"><span>Commercial support is available at</span></span>
<span class="line"><span>&lt;a href=&quot;http://nginx.com/&quot;&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;</span></span>
<span class="line"><span>&lt;/body&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>éªŒè¯è®¿é—® Service</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>curl 10.233.14.48</span></span>
<span class="line"><span></span></span>
<span class="line"><span># è®¿é—®ç»“æœåŒä¸Šï¼Œç•¥</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>éªŒè¯è®¿é—® Nodeport</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>curl 192.168.9.131:30619</span></span>
<span class="line"><span></span></span>
<span class="line"><span># è®¿é—®ç»“æœåŒä¸Šï¼Œç•¥</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-è‡ªåŠ¨åŒ–-shell-è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#_6-è‡ªåŠ¨åŒ–-shell-è„šæœ¬"><span><strong>6. è‡ªåŠ¨åŒ– Shell è„šæœ¬</strong></span></a></h2><p>æ–‡ç« ä¸­æ‰€æœ‰æ“ä½œæ­¥éª¤ï¼Œå·²å…¨éƒ¨ç¼–æ’ä¸ºè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œå› ç¯‡å¹…é™åˆ¶ï¼Œä¸åœ¨æ­¤æ–‡æ¡£ä¸­å±•ç¤ºã€‚</p><p>æ˜Ÿçƒä¼šå‘˜è¯·åˆ°ä¸“å±ä»£ç ä»“åº“ä¸‹è½½ï¼ˆ<strong>ä»·å€¼å†…å®¹ï¼Œä»…æ˜Ÿçƒä¼šå‘˜ä¸“äº«</strong>ï¼‰ã€‚</p><h2 id="_7-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_7-æ€»ç»“"><span><strong>7. æ€»ç»“</strong></span></a></h2><p>æœ¬æ–‡åˆ†äº«äº†åœ¨ openEuler 22.03 LTS SP3 æ“ä½œç³»ç»Ÿä¸Šï¼Œå¦‚ä½•åˆ©ç”¨ KubeSphere å¼€å‘çš„å·¥å…· <strong>KubeKey</strong>ï¼Œ éƒ¨ç½² <strong>k8s v1.28.8</strong> é›†ç¾¤çš„è¯¦ç»†æµç¨‹åŠæ³¨æ„äº‹é¡¹ã€‚</p><p>ä¸»è¦å†…å®¹æ¦‚æ‹¬å¦‚ä¸‹ï¼š</p><ul><li>openEuler 22.03 LTS SP3 æ“ä½œç³»ç»ŸåŸºç¡€é…ç½®</li><li>openEuler 22.03 LTS SP3 æ“ä½œç³»ç»Ÿä¸Š LVM ç£ç›˜çš„åˆ›å»ºé…ç½®</li><li>ä½¿ç”¨ KubeKey éƒ¨ç½² Kubernetes é«˜å¯ç”¨é›†ç¾¤</li><li>k8s é›†ç¾¤éƒ¨ç½²å®Œæˆåçš„éªŒè¯æµ‹è¯•</li></ul>`,146),p=[t];function r(d,c){return e(),n("div",null,p)}const o=s(l,[["render",r],["__file","01.html.vue"]]),h=JSON.parse('{"path":"/note/kubernetes/install/kubesphere/01.html","title":"01-KubeKey éƒ¨ç½² Kubernetes v1.28.8 å®æˆ˜","lang":"zh-CN","frontmatter":{"title":"01-KubeKey éƒ¨ç½² Kubernetes v1.28.8 å®æˆ˜","order":1,"icon":"lightbulb","description":"åŸåˆ› è¿ç»´æœ‰æœ¯ [è¿ç»´æœ‰æœ¯](javascript:void(0)ğŸ˜‰ 2024-04-25 21:27 å±±ä¸œ æç¤º 2024 å¹´äº‘åŸç”Ÿè¿ç»´å®æˆ˜æ–‡æ¡£ 99 ç¯‡åŸåˆ›è®¡åˆ’ ç¬¬ 009 ç¯‡ ï½œKubeSphere æœ€ä½³å®æˆ˜ã€Œ2024ã€ç³»åˆ— ç¬¬ 001 ç¯‡ ä½ å¥½ï¼Œæ¬¢è¿æ¥åˆ°è¿ç»´æœ‰æœ¯ã€‚ ä»Šå¤©åˆ†äº«çš„å†…å®¹æ˜¯ KubeSphere æœ€ä½³å®æˆ˜ã€Œ2024ã€ ç³»åˆ—æ–‡æ¡£ä¸­çš„ K...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/vuepress/note/kubernetes/install/kubesphere/01.html"}],["meta",{"property":"og:site_name","content":"é£å"}],["meta",{"property":"og:title","content":"01-KubeKey éƒ¨ç½² Kubernetes v1.28.8 å®æˆ˜"}],["meta",{"property":"og:description","content":"åŸåˆ› è¿ç»´æœ‰æœ¯ [è¿ç»´æœ‰æœ¯](javascript:void(0)ğŸ˜‰ 2024-04-25 21:27 å±±ä¸œ æç¤º 2024 å¹´äº‘åŸç”Ÿè¿ç»´å®æˆ˜æ–‡æ¡£ 99 ç¯‡åŸåˆ›è®¡åˆ’ ç¬¬ 009 ç¯‡ ï½œKubeSphere æœ€ä½³å®æˆ˜ã€Œ2024ã€ç³»åˆ— ç¬¬ 001 ç¯‡ ä½ å¥½ï¼Œæ¬¢è¿æ¥åˆ°è¿ç»´æœ‰æœ¯ã€‚ ä»Šå¤©åˆ†äº«çš„å†…å®¹æ˜¯ KubeSphere æœ€ä½³å®æˆ˜ã€Œ2024ã€ ç³»åˆ—æ–‡æ¡£ä¸­çš„ K..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"é£å"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"01-KubeKey éƒ¨ç½² Kubernetes v1.28.8 å®æˆ˜\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"é£å\\",\\"url\\":\\"/portfolio\\"}]}"]]},"headers":[{"level":2,"title":"1. æ“ä½œç³»ç»ŸåŸºç¡€é…ç½®","slug":"_1-æ“ä½œç³»ç»ŸåŸºç¡€é…ç½®","link":"#_1-æ“ä½œç³»ç»ŸåŸºç¡€é…ç½®","children":[{"level":3,"title":"1.1 é…ç½®ä¸»æœºå","slug":"_1-1-é…ç½®ä¸»æœºå","link":"#_1-1-é…ç½®ä¸»æœºå","children":[]},{"level":3,"title":"1.2 é…ç½® DNS","slug":"_1-2-é…ç½®-dns","link":"#_1-2-é…ç½®-dns","children":[]},{"level":3,"title":"1.3 é…ç½®æœåŠ¡å™¨æ—¶åŒº","slug":"_1-3-é…ç½®æœåŠ¡å™¨æ—¶åŒº","link":"#_1-3-é…ç½®æœåŠ¡å™¨æ—¶åŒº","children":[]},{"level":3,"title":"1.4 é…ç½®æ—¶é—´åŒæ­¥","slug":"_1-4-é…ç½®æ—¶é—´åŒæ­¥","link":"#_1-4-é…ç½®æ—¶é—´åŒæ­¥","children":[]},{"level":3,"title":"1.5 å…³é—­ç³»ç»Ÿé˜²ç«å¢™","slug":"_1-5-å…³é—­ç³»ç»Ÿé˜²ç«å¢™","link":"#_1-5-å…³é—­ç³»ç»Ÿé˜²ç«å¢™","children":[]},{"level":3,"title":"1.6 ç¦ç”¨ SELinux","slug":"_1-6-ç¦ç”¨-selinux","link":"#_1-6-ç¦ç”¨-selinux","children":[]},{"level":3,"title":"1.7 å®‰è£…ç³»ç»Ÿä¾èµ–","slug":"_1-7-å®‰è£…ç³»ç»Ÿä¾èµ–","link":"#_1-7-å®‰è£…ç³»ç»Ÿä¾èµ–","children":[]}]},{"level":2,"title":"2. æ“ä½œç³»ç»Ÿç£ç›˜é…ç½®","slug":"_2-æ“ä½œç³»ç»Ÿç£ç›˜é…ç½®","link":"#_2-æ“ä½œç³»ç»Ÿç£ç›˜é…ç½®","children":[{"level":3,"title":"2.1 ä½¿ç”¨ LVM é…ç½®ç£ç›˜","slug":"_2-1-ä½¿ç”¨-lvm-é…ç½®ç£ç›˜","link":"#_2-1-ä½¿ç”¨-lvm-é…ç½®ç£ç›˜","children":[]},{"level":3,"title":"2.2 æ ¼å¼åŒ–ç£ç›˜","slug":"_2-2-æ ¼å¼åŒ–ç£ç›˜","link":"#_2-2-æ ¼å¼åŒ–ç£ç›˜","children":[]},{"level":3,"title":"2.3 ç£ç›˜æŒ‚è½½","slug":"_2-3-ç£ç›˜æŒ‚è½½","link":"#_2-3-ç£ç›˜æŒ‚è½½","children":[]},{"level":3,"title":"2.4 åˆ›å»ºæ•°æ®ç›®å½•","slug":"_2-4-åˆ›å»ºæ•°æ®ç›®å½•","link":"#_2-4-åˆ›å»ºæ•°æ®ç›®å½•","children":[]}]},{"level":2,"title":"3. å®‰è£…éƒ¨ç½² Kubernetes","slug":"_3-å®‰è£…éƒ¨ç½²-kubernetes","link":"#_3-å®‰è£…éƒ¨ç½²-kubernetes","children":[{"level":3,"title":"3.1 ä¸‹è½½ KubeKey","slug":"_3-1-ä¸‹è½½-kubekey","link":"#_3-1-ä¸‹è½½-kubekey","children":[]},{"level":3,"title":"3.2 åˆ›å»º Kubernetes é›†ç¾¤éƒ¨ç½²é…ç½®æ–‡ä»¶","slug":"_3-2-åˆ›å»º-kubernetes-é›†ç¾¤éƒ¨ç½²é…ç½®æ–‡ä»¶","link":"#_3-2-åˆ›å»º-kubernetes-é›†ç¾¤éƒ¨ç½²é…ç½®æ–‡ä»¶","children":[]},{"level":3,"title":"3.3 éƒ¨ç½² Kubernetes","slug":"_3-3-éƒ¨ç½²-kubernetes","link":"#_3-3-éƒ¨ç½²-kubernetes","children":[]}]},{"level":2,"title":"4. éªŒè¯ k8s é›†ç¾¤","slug":"_4-éªŒè¯-k8s-é›†ç¾¤","link":"#_4-éªŒè¯-k8s-é›†ç¾¤","children":[{"level":3,"title":"4.1 kubectl å‘½ä»¤è¡ŒéªŒè¯é›†ç¾¤çŠ¶æ€","slug":"_4-1-kubectl-å‘½ä»¤è¡ŒéªŒè¯é›†ç¾¤çŠ¶æ€","link":"#_4-1-kubectl-å‘½ä»¤è¡ŒéªŒè¯é›†ç¾¤çŠ¶æ€","children":[]}]},{"level":2,"title":"5. éƒ¨ç½²æµ‹è¯•èµ„æº","slug":"_5-éƒ¨ç½²æµ‹è¯•èµ„æº","link":"#_5-éƒ¨ç½²æµ‹è¯•èµ„æº","children":[{"level":3,"title":"5.1 åˆ›å»º Nginx Deployment","slug":"_5-1-åˆ›å»º-nginx-deployment","link":"#_5-1-åˆ›å»º-nginx-deployment","children":[]},{"level":3,"title":"5.2 åˆ›å»º Nginx Service","slug":"_5-2-åˆ›å»º-nginx-service","link":"#_5-2-åˆ›å»º-nginx-service","children":[]},{"level":3,"title":"5.3 éªŒè¯ Nginx Deployment å’Œ Pod","slug":"_5-3-éªŒè¯-nginx-deployment-å’Œ-pod","link":"#_5-3-éªŒè¯-nginx-deployment-å’Œ-pod","children":[]},{"level":3,"title":"5.4 éªŒè¯ Nginx Service","slug":"_5-4-éªŒè¯-nginx-service","link":"#_5-4-éªŒè¯-nginx-service","children":[]},{"level":3,"title":"5.5 éªŒè¯æœåŠ¡","slug":"_5-5-éªŒè¯æœåŠ¡","link":"#_5-5-éªŒè¯æœåŠ¡","children":[]}]},{"level":2,"title":"6. è‡ªåŠ¨åŒ– Shell è„šæœ¬","slug":"_6-è‡ªåŠ¨åŒ–-shell-è„šæœ¬","link":"#_6-è‡ªåŠ¨åŒ–-shell-è„šæœ¬","children":[]},{"level":2,"title":"7. æ€»ç»“","slug":"_7-æ€»ç»“","link":"#_7-æ€»ç»“","children":[]}],"git":{},"readingTime":{"minutes":13.7,"words":4109},"filePathRelative":"note/kubernetes/install/kubesphere/01.md","autoDesc":true}');export{o as comp,h as data};
