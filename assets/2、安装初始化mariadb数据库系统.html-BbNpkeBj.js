import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,o as a,d as i}from"./app-CdRwZrpj.js";const e="/assets/1695713445.1984804-t3eiF9uJ.jpeg",l="/assets/1695713445.229292-Bjv3PIua.jpeg",p="/assets/1695713445.2454717-Bb_q28Gl.jpeg",t="/assets/1695713445.256656-D5l1zwag.png",r="/assets/1695713445.267575-cvjFwtD9.jpeg",d="/assets/1695713445.2777476-xj4_O0GC.png",o="/assets/1695713445.2906876-CoST4AEz.jpeg",c={},v=i('<p>实例1、安装初始化mariadb数据库系统，并配置允许使用root账户远程连接</p><p>1、检查yum源环境</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-4 ~]# yum clean all &amp;&amp; yum repolist</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="'+e+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>2、安装mariadb数据库系统</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-4 ~]# yum install mariadb* -y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>3、重启mariadb数据库系统，并设置开机自启</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-4 ~]# systemctl restart mariadb &amp;&amp; systemctl enable mariadb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>4、初始化mariadb数据库系统</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-4 ~]# mysql\\_secure\\_installation</span></span>
<span class="line"><span></span></span>
<span class="line"><span>编辑配置如下图所示：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>In order to log into MariaDB to secure it, we&#39;ll need the current password for the root user. If you&#39;ve just installed MariaDB, and you haven&#39;t set the root password yet, the password will be blank, so you should just press enter here.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Enter current password for root (enter</span></span>
<span class="line"><span></span></span>
<span class="line"><span>OK, successfully used password, moving</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Setting the root password ensures that nobody can log into the MariaDB root user without the proper authorisation.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Set root password? [Y/n] y //输入y</span></span>
<span class="line"><span></span></span>
<span class="line"><span>New password: //输入root管理员密码</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Re-enter new password: //再次输入密码</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Password updated successfully!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Reloading privilege tables..</span></span>
<span class="line"><span></span></span>
<span class="line"><span>... Success!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>By default, a MariaDB installation has an anonymous user, allowing anyone to log into MariaDB without having to have a user account created for</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//当前数据库密码为空，默认回车</span></span>
<span class="line"><span></span></span>
<span class="line"><span>for none): on...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>them. This is intended only for testing, and to make the installation</span></span>
<span class="line"><span></span></span>
<span class="line"><span>go a bit smoother. You should remove them before moving into a</span></span>
<span class="line"><span></span></span>
<span class="line"><span>production environment.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Remove anonymous users? [Y/n] y //删除匿名账户</span></span>
<span class="line"><span></span></span>
<span class="line"><span>... Success!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Normally, root should only be allowed to connect from &#39;localhost&#39;. This ensures that someone cannot guess at the root password from the network.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Disallow root login remotely? [Y/n] y //禁止root管理员从远程登录</span></span>
<span class="line"><span></span></span>
<span class="line"><span>... Success!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>By default, MariaDB comes with a database named &#39;test&#39; that anyone can access. This is also intended only for testing, and should be removed before moving into a production environment.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Remove test database and access to it? [Y/n] y //删除test数据库并取消对它的权限访</span></span>
<span class="line"><span></span></span>
<span class="line"><span>问</span></span>
<span class="line"><span></span></span>
<span class="line"><span>- Dropping test database... ... Success!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>- Removing privileges on test database... ... Success!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Reloading the privilege tables will ensure that all changes made so far will take effect immediately.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Reload privilege tables now? [Y/n] y //刷新授权列表，让初始化的设定立即生效</span></span>
<span class="line"><span></span></span>
<span class="line"><span>... Success!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Cleaning up...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>All done! If you&#39;ve completed all of the above steps, your MariaDB installation should now be secure.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Thanks for using MariaDB!</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5、防火墙放行数据库服务，并重启防火墙</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-4 ~]# firewall-cmd --permanent --add-service=mysql [root@host-172-16-0-4 ~]# firewall-cmd --reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="`+l+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>6、首次登录数据库系统</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-4 ~]# mysql -u root -p</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Enter password: //输入root管理员用户密码</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Welcome to the MariaDB monitor. Commands end with ; or \\g.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Your MariaDB connection id is 10</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Server version: 5.5.60-MariaDB MariaDB Server</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Type &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input statement.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>MariaDB [(none)]&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>7、配置允许root用户远程登录</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39;IDENTIFIED BY &#39;0000&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>WITH GRANT OPTION; //&#39;root&#39;为root用户， &#39;0000&#39;为root用户密码</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>8、刷新生效</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>MariaDB [(none)]&gt; flush privileges;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>9、使用软件Navicat for MySQL进行登录</p><figure><img src="`+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>10、连接测试</p><figure><img src="'+t+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>11、双击测试中的mysql激活</p><figure><img src="'+r+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>12、打开命令行窗口并查看当前数据库中有哪些数据库</p><figure><img src="'+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>说明配置root用户远程登录的另一种方法就是，在初始化过程中，我们将是否不允许root用户远程登录 yes或no ，选择no ，如图所示：</p><figure><img src="'+o+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',29),m=[v];function u(b,h){return a(),n("div",null,m)}const k=s(c,[["render",u],["__file","2、安装初始化mariadb数据库系统.html.vue"]]),y=JSON.parse('{"path":"/note/centos7/13%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1/2%E3%80%81%E5%AE%89%E8%A3%85%E5%88%9D%E5%A7%8B%E5%8C%96mariadb%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F.html","title":"02-安装数据库","lang":"zh-CN","frontmatter":{"title":"02-安装数据库","order":2,"icon":"lightbulb","description":"实例1、安装初始化mariadb数据库系统，并配置允许使用root账户远程连接 1、检查yum源环境 2、安装mariadb数据库系统 3、重启mariadb数据库系统，并设置开机自启 4、初始化mariadb数据库系统 5、防火墙放行数据库服务，并重启防火墙 6、首次登录数据库系统 7、配置允许root用户远程登录 8、刷新生效 9、使用软件Navi...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/note/centos7/13%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1/2%E3%80%81%E5%AE%89%E8%A3%85%E5%88%9D%E5%A7%8B%E5%8C%96mariadb%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F.html"}],["meta",{"property":"og:site_name","content":"风华"}],["meta",{"property":"og:title","content":"02-安装数据库"}],["meta",{"property":"og:description","content":"实例1、安装初始化mariadb数据库系统，并配置允许使用root账户远程连接 1、检查yum源环境 2、安装mariadb数据库系统 3、重启mariadb数据库系统，并设置开机自启 4、初始化mariadb数据库系统 5、防火墙放行数据库服务，并重启防火墙 6、首次登录数据库系统 7、配置允许root用户远程登录 8、刷新生效 9、使用软件Navi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"风华"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"02-安装数据库\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"风华\\",\\"url\\":\\"/portfolio\\"}]}"]]},"headers":[],"git":{},"readingTime":{"minutes":2.65,"words":796},"filePathRelative":"note/centos7/13、数据库服务/2、安装初始化mariadb数据库系统.md","autoDesc":true}');export{k as comp,y as data};
