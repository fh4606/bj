import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as a,d as n}from"./app-DuswJAHG.js";const h="/vuepress/assets/image-20230911172047854-FxREiii-.png",l="/vuepress/assets/image-20230911172126674-C_rfIb4s.png",k="/vuepress/assets/image-20230911172603049-cW0ZuW9C.png",t="/vuepress/assets/image-20230911172614729-zYcDY4hm.png",e={},p=n(`<h2 id="_1-启动一个容器" tabindex="-1"><a class="header-anchor" href="#_1-启动一个容器"><span>1.启动一个容器</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@172-0-110-100 </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# docker run -itd --name supervisor_nginx -p 80:80 -p 9002:9001 </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">--privileged</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">true</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> supervisor:1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/sbin/init</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2-修改配置文件信息-实现可以web访问" tabindex="-1"><a class="header-anchor" href="#_2-修改配置文件信息-实现可以web访问"><span>2.修改配置文件信息，实现可以web访问</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@172-0-110-100 </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# docker exec -it supervisor_nginx bash</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e /]# vim /etc/supervisord.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">……</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[inet_http_server]         ; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">inet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (TCP) server disabled by default</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">port</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">172.17.0.3:9001</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        ; (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ip_address:port</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> specifier,</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:port</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> iface</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">username</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">              ; (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> no</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> username</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (open </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">password</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">               ; (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> no</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> password</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (open </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">……</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">## 结束掉旧的的supervisord进程，重新启动</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e /]# ps -ef </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> supervisord</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">          99</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/bin/python</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/bin/supervisord</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/supervisord.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         103</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      72</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:02</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --color=auto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> supervisord</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e /]# kill 99</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e /]# supervisord -c /etc/supervisord.conf </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e /]# ps -ef </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> supervisord</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         107</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:03</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/bin/python</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/bin/supervisord</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/supervisord.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         109</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      72</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:03</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --color=auto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> supervisord</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-安装nginx服务" tabindex="-1"><a class="header-anchor" href="#_3-安装nginx服务"><span>3.安装nginx服务</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e /]# yum install nginx -y</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e /]# nginx -v</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> version:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx/1.20.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-编写nginx在supervisor子进程里面的配置文件" tabindex="-1"><a class="header-anchor" href="#_4-编写nginx在supervisor子进程里面的配置文件"><span>4.编写nginx在supervisor子进程里面的配置文件</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e /]# cd /etc/supervisord.d/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e supervisord.d]# vim nginx.ini</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">##设置进程的名称，使用 supervisorctl 来管理进程时需要使用该进程名 我这里就叫做nginx了!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[program:nginx]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">##命令执行的目录或者说执行 command 之前，先切换到工作目录 可以理解为在执行命令前会切换到这个目录 在我这基本没啥用</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">directory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/etc/nginx</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">##需要执行的命令,以前台方式运行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">command</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/usr/sbin/nginx</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;daemon off;&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">##是否自动启动</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">autostart</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">##程序意外退出是否自动重启</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">autorestart</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">##如果为true，则stderr的日志会被写入stdout日志文件中  理解为重定向输出的日志</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">redirect_stderr</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">##启动优先级</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">priority</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">10</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">##子进程的stdout的日志路径 输出日志文件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">stdout_logfile</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/data/logs/supervisord/nginx.log</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">##错误日志文件 当redirect_stderr=true。这个就不用</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">stderr_logfile</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/data/logs/supervisord/nginx.err.log</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e supervisord.d]# mkdir /data/logs/supervisord/ -p</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-启动supervisor服务-查看nginx是否启动" tabindex="-1"><a class="header-anchor" href="#_5-启动supervisor服务-查看nginx是否启动"><span>5.启动supervisor服务，查看nginx是否启动</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# supervisorctl reload       </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">##或者命令：supervisorctl update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Restarted</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> supervisord</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# ps -ef </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         199</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     107</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> master</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/sbin/nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daemon</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> off</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        200</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     199</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        201</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     199</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        202</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     199</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        203</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     199</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         208</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      72</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --color=auto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+h+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>通过supervisor服务的web端口查看nginx服务</p><figure><img src="'+l+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_6-手动停止nginx服务-查看supervisor是否能启动nginx服务" tabindex="-1"><a class="header-anchor" href="#_6-手动停止nginx服务-查看supervisor是否能启动nginx服务"><span>6.手动停止nginx服务，查看supervisor是否能启动nginx服务</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# systemctl stop nginx</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# ps -ef </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         199</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     107</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> master</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/sbin/nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daemon</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> off</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        200</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     199</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        201</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     199</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        202</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     199</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        203</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     199</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         213</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      72</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:22</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --color=auto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]#</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>点击web控制台stop按钮，查看nginx服务是否运行</p><figure><img src="`+k+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# ps -ef </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         233</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      72</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:27</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --color=auto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>点击web控制台start按钮，查看nginx服务是否运行</p><figure><img src="`+t+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@01b7074f700e </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# ps -ef </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         223</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     107</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:26</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> master</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/sbin/nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daemon</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> off</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        224</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     223</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:26</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        225</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     223</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:26</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        226</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     223</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:26</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        227</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     223</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:26</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> process</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         231</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      72</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 09:27</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --color=auto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,21),r=[p];function d(g,y){return a(),i("div",null,r)}const F=s(e,[["render",d],["__file","04.html.vue"]]),c=JSON.parse('{"path":"/note/supervisord/04.html","title":"04-管理nginx","lang":"zh-CN","frontmatter":{"title":"04-管理nginx","order":4,"icon":"lightbulb","description":"1.启动一个容器 2.修改配置文件信息，实现可以web访问 3.安装nginx服务 4.编写nginx在supervisor子进程里面的配置文件 5.启动supervisor服务，查看nginx是否启动 通过supervisor服务的web端口查看nginx服务 6.手动停止nginx服务，查看supervisor是否能启动nginx服务 点击web控...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/vuepress/note/supervisord/04.html"}],["meta",{"property":"og:site_name","content":"风华"}],["meta",{"property":"og:title","content":"04-管理nginx"}],["meta",{"property":"og:description","content":"1.启动一个容器 2.修改配置文件信息，实现可以web访问 3.安装nginx服务 4.编写nginx在supervisor子进程里面的配置文件 5.启动supervisor服务，查看nginx是否启动 通过supervisor服务的web端口查看nginx服务 6.手动停止nginx服务，查看supervisor是否能启动nginx服务 点击web控..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"风华"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"04-管理nginx\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"风华\\",\\"url\\":\\"/portfolio\\"}]}"]]},"headers":[{"level":2,"title":"1.启动一个容器","slug":"_1-启动一个容器","link":"#_1-启动一个容器","children":[]},{"level":2,"title":"2.修改配置文件信息，实现可以web访问","slug":"_2-修改配置文件信息-实现可以web访问","link":"#_2-修改配置文件信息-实现可以web访问","children":[]},{"level":2,"title":"3.安装nginx服务","slug":"_3-安装nginx服务","link":"#_3-安装nginx服务","children":[]},{"level":2,"title":"4.编写nginx在supervisor子进程里面的配置文件","slug":"_4-编写nginx在supervisor子进程里面的配置文件","link":"#_4-编写nginx在supervisor子进程里面的配置文件","children":[]},{"level":2,"title":"5.启动supervisor服务，查看nginx是否启动","slug":"_5-启动supervisor服务-查看nginx是否启动","link":"#_5-启动supervisor服务-查看nginx是否启动","children":[]},{"level":2,"title":"6.手动停止nginx服务，查看supervisor是否能启动nginx服务","slug":"_6-手动停止nginx服务-查看supervisor是否能启动nginx服务","link":"#_6-手动停止nginx服务-查看supervisor是否能启动nginx服务","children":[]}],"git":{},"readingTime":{"minutes":2.72,"words":816},"filePathRelative":"note/supervisord/04.md","autoDesc":true}');export{F as comp,c as data};
