import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,o as i,d as a}from"./app-BvlpFik8.js";const e="/assets/1695711131.4897914-6RBrqFMM.jpeg",t="/assets/1695711131.5100443-DX_cgKMM.jpeg",l="/assets/1695711131.560059-DApam7s0.jpeg",p="/assets/1695711131.5811918-yTntOl_2.jpeg",d={},r=a('<p>1、检查本机是否安装bind服务</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-5 ~]# rpm -qa bind</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="'+e+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>2、安装bind服务程序</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-5 ~]# yum install bind-chroot -y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>3、编辑主配置文件</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-5 ~]# vi /etc/named.conf</span></span>
<span class="line"><span>//将主配置文件中的第13行和21行的127.0.0.1和localhost更改为any，如下图如所示：</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+t+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>4、编辑区域文件，本例以“zxw.com”这个域名为例</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-5 ~]# vi /etc/named.rfc1912.zones</span></span>
<span class="line"><span>zone &quot;zxw.com&quot; IN { //“zxw.com”为正向需要解析的域名</span></span>
<span class="line"><span>type master; //服务类型</span></span>
<span class="line"><span>file &quot;named.localhost&quot;; //对应的正向解析文件的文件名，文件名称可以自</span></span>
<span class="line"><span>定以，一般默认存放在/var/named/目录下</span></span>
<span class="line"><span>allow-update { none; }; //允许那些客户端动态更新解析信息，none自适</span></span>
<span class="line"><span>应</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span>zone &quot;0.16.172in-addr.arpa&quot; IN { //“0.16.172in-addr.arpa”为反向需要解析</span></span>
<span class="line"><span>的ip子网区域，精确到网络号，主机为不需要填写</span></span>
<span class="line"><span>type master; //服务类型</span></span>
<span class="line"><span>file &quot;named.loopback&quot;; //对应的反向解析文件的文件名，文件名称可以自</span></span>
<span class="line"><span>定以，一般默认存放在/var/named/目录下</span></span>
<span class="line"><span>allow-update { none; }; //允许那些客户端动态更新解析信息，none自适</span></span>
<span class="line"><span>应</span></span>
<span class="line"><span>};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5、编辑正向解析文件</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-5 ~]# vi /var/named/named.localhost</span></span>
<span class="line"><span>$TTL 1D</span></span>
<span class="line"><span>@ IN SOA @ zxw.com. ( //“zxw.com.”为需要解析的域名，后</span></span>
<span class="line"><span>面的这个“.”等同于“root”代表root权限</span></span>
<span class="line"><span>				0 ; serial</span></span>
<span class="line"><span>				1D ; refresh</span></span>
<span class="line"><span>				1H ; retry</span></span>
<span class="line"><span>				1W ; expire</span></span>
<span class="line"><span>				3H ); minimum</span></span>
<span class="line"><span>		NS 		ns.zxw.com. //域名服务器记录</span></span>
<span class="line"><span>ns 		A 		172.16.0.5 //地址记录</span></span>
<span class="line"><span>www 		A 		172.16.0.5 //地址记录，可理解在zxw.com这个域中</span></span>
<span class="line"><span>有一台叫www的主机其ip地址为172.16.0.5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+l+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>6、编辑反向解析文件</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-5 ~]# vi /var/named/named.loopback</span></span>
<span class="line"><span>$TTL 1D</span></span>
<span class="line"><span>@ IN SOA @ zxw.com. ( //“zxw.com.”为需要解析的域名，后</span></span>
<span class="line"><span>面的这个“.”等同于“root”代表root权限</span></span>
<span class="line"><span>				0 ; serial</span></span>
<span class="line"><span>				1D ; refresh</span></span>
<span class="line"><span>				1H ; retry</span></span>
<span class="line"><span>				1W ; expire</span></span>
<span class="line"><span>				3H ); minimum</span></span>
<span class="line"><span>		NS 			ns.zxw.com. //域名服务器记录</span></span>
<span class="line"><span>5 		PTR 		ns.zxw.com. //指针记录</span></span>
<span class="line"><span>5 		PTR 		www.zxw.com. //指针记录</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>7、重启bind服务</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[root@host-172-16-0-5 ~]# systemctl restart named</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>8、配置本地网卡将dns地址指向dns服务器 9、测试，在终端设备中打开cmd窗口输入nslookup命令测试dns</p><figure><img src="`+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',19),c=[r];function o(m,h){return i(),n("div",null,c)}const u=s(d,[["render",o],["__file","2、利用bind服务程序搭建单区域dns服务.html.vue"]]),g=JSON.parse('{"path":"/note/centos7/9%E3%80%81%E9%83%A8%E7%BD%B2%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9F/2%E3%80%81%E5%88%A9%E7%94%A8bind%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E6%90%AD%E5%BB%BA%E5%8D%95%E5%8C%BA%E5%9F%9Fdns%E6%9C%8D%E5%8A%A1.html","title":"02-部署单区域DNS","lang":"zh-CN","frontmatter":{"title":"02-部署单区域DNS","order":2,"icon":"lightbulb","description":"1、检查本机是否安装bind服务 2、安装bind服务程序 3、编辑主配置文件 4、编辑区域文件，本例以“zxw.com”这个域名为例 5、编辑正向解析文件 6、编辑反向解析文件 7、重启bind服务 8、配置本地网卡将dns地址指向dns服务器 9、测试，在终端设备中打开cmd窗口输入nslookup命令测试dns","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/note/centos7/9%E3%80%81%E9%83%A8%E7%BD%B2%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9F/2%E3%80%81%E5%88%A9%E7%94%A8bind%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E6%90%AD%E5%BB%BA%E5%8D%95%E5%8C%BA%E5%9F%9Fdns%E6%9C%8D%E5%8A%A1.html"}],["meta",{"property":"og:site_name","content":"风华"}],["meta",{"property":"og:title","content":"02-部署单区域DNS"}],["meta",{"property":"og:description","content":"1、检查本机是否安装bind服务 2、安装bind服务程序 3、编辑主配置文件 4、编辑区域文件，本例以“zxw.com”这个域名为例 5、编辑正向解析文件 6、编辑反向解析文件 7、重启bind服务 8、配置本地网卡将dns地址指向dns服务器 9、测试，在终端设备中打开cmd窗口输入nslookup命令测试dns"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"风华"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"02-部署单区域DNS\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"风华\\",\\"url\\":\\"/portfolio\\"}]}"]]},"headers":[],"git":{},"readingTime":{"minutes":1.82,"words":547},"filePathRelative":"note/centos7/9、部署域名解析系统/2、利用bind服务程序搭建单区域dns服务.md","autoDesc":true}');export{u as comp,g as data};
